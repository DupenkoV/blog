<script>
	import { createEventDispatcher } from 'svelte';
	import PostText from './PostText.svelte';
	export let title;
	export let author;
	export let date;
	export let post;
	export let id;
	export let editPost;
	export let editingDate;
	let seeText = false;
	const dispatch = createEventDispatcher();
</script>

<!-- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç—Å—è –∑–∞ —Ä—ç–Ω–¥—ç—Ä –∫–∞—Ä—Ç–æ—á–∫–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—Å—Ç–∞ -->

<div>
	<button
		title="–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–æ—Å—Ç"
		on:click={() => {
			seeText = !seeText;
		}}><h2>{title}</h2></button
	>
	<hr />
	{#if seeText}
		<PostText {post} {id} on:edit={editPost} />
		<hr />
	{/if}

	<p><span>–ê–≤—Ç–æ—Ä:</span> {author}</p>
	<p><span>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</span> {date}</p>
	{#if editingDate}
		<p><span>–î–∞—Ç–∞ –¥–∞—Ç–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</span> {editingDate}</p>
	{/if}
	<button class="deletePost" title="–£–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç" on:click={() => dispatch('delete', id)}>üóëÔ∏è</button
	>
</div>

<style>
	div {
		width: 30%;
		border: 1px gray solid;
		border-radius: 5px;
		padding: 5px;
		word-wrap: break-word;
		box-shadow: inset 0 -3em 3em rgba(0, 0, 0, 0.1), 0 0 0 2px rgb(255, 255, 255),
			0.3em 0.3em 1em rgba(0, 0, 0, 0.3);
	}
	h2 {
		margin: 0;
		text-decoration: underline;
	}
	span {
		color: gray;
		font-size: 10px;
	}
	button {
		display: block;
		background-color: inherit;
		border: none;
		cursor: pointer;
		width: 100%;
	}
	p {
		margin: 2px 0;
		font-size: 10px;
	}
	.deletePost {
		width: 30px;
		margin: 0 auto;
	}
</style>
